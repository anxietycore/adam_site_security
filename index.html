<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>A.D.A.M. SECURE TERMINAL // VIGIL-9</title>
    <style>
        body {
            background-color: black;
            color: #00FF41; /* Неоново-зелёный */
            font-family: 'Courier New', monospace;
            margin: 0;
            padding: 20px;
            overflow: hidden;
            cursor: default;
        }
        #terminal {
            white-space: pre-wrap;
            word-break: break-all;
        }
        .prompt { color: #00FF41; }
        .cmd { color: white; }
        .output { color: #CCCCCC; }
        .secret { color: black; background: black; }
        .secret:hover { color: red; background: black; }
        
        /* Глитч-эффект */
        .glitch {
            animation: glitch 0.3s infinite;
            display: inline-block;
        }
        @keyframes glitch {
            0% { transform: translate(0); }
            20% { transform: translate(-2px, 2px); }
            40% { transform: translate(-2px, -2px); }
            60% { transform: translate(2px, 2px); }
            80% { transform: translate(2px, -2px); }
            100% { transform: translate(0); }
        }
        
        /* Мигающий курсор */
        .cursor {
            animation: blink 1s step-end infinite;
            background-color: #00FF41;
        }
        @keyframes blink {
            50% { opacity: 0; }
        }
        
        /* Эффект загрузки */
        @keyframes scanline {
            0% { transform: translateY(-100%); }
            100% { transform: translateY(100vh); }
        }
        .scanline {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background: rgba(0, 255, 65, 0.3);
            animation: scanline 3s linear infinite;
            pointer-events: none;
        }
    </style>
</head>
<body>
    <div class="scanline"></div>
    <div id="terminal"></div>

    <script>
        const terminal = document.getElementById('terminal');
        let currentLine = '';
        let commandHistory = [];
        let historyIndex = -1;

        // Приветственное сообщение
        function initTerminal() {
            addOutput('> INITIALIZING A.D.A.M. SECURE TERMINAL...');
            addOutput('> PROTOCOL: VIGIL-9 // STATUS: ACTIVE');
            addOutput('> WARNING: UNAUTHORIZED ACCESS WILL BE TERMINATED');
            addOutput('> TYPE "help" FOR AVAILABLE COMMANDS\n');
            addPrompt();
        }

        // Добавить вывод
        function addOutput(text, className = 'output') {
            const line = document.createElement('div');
            line.className = className;
            line.textContent = text;
            terminal.appendChild(line);
            terminal.scrollTop = terminal.scrollHeight;
        }

        // Добавить промпт
        function addPrompt() {
            const promptLine = document.createElement('div');
            promptLine.innerHTML = '<span class="prompt">adam@secure:~$ </span><span class="cmd" id="currentCmd"></span><span class="cursor" id="cursor">_</span>';
            terminal.appendChild(promptLine);
            terminal.scrollTop = terminal.scrollHeight;
        }

        // Обработка команд
        function processCommand(cmd) {
            addOutput(`adam@secure:~$ ${cmd}`, 'prompt');
            
            switch(cmd.toLowerCase()) {
                case 'help':
                    addOutput('Available commands:');
                    addOutput('  help     - Show this help');
                    addOutput('  clear    - Clear terminal');
                    addOutput('  date     - Show system date');
                    addOutput('  status   - Show protocol status');
                    addOutput('  access   - Request access level');
                    addOutput('  <span class="secret">initiate</span> - [CLASSIFIED]');
                    break;
                    
                case 'clear':
                    terminal.innerHTML = '';
                    break;
                    
                case 'date':
                    addOutput(new Date().toLocaleString('ru-RU'));
                    break;
                    
                case 'status':
                    addOutput('PROTOCOL VIGIL-9: ACTIVE');
                    addOutput('SUBJECTS: 734 ACTIVE, 1289 TERMINATED');
                    addOutput('OBSERVATION: ONGOING');
                    break;
                    
                case 'access':
                    addOutput('ACCESS DENIED. INSUFFICIENT CLEARANCE.');
                    addOutput('> REQUIRED: LEVEL 9 CLEARANCE');
                    // Случайный глитч
                    setTimeout(() => {
                        document.body.classList.add('glitch');
                        setTimeout(() => document.body.classList.remove('glitch'), 300);
                    }, 1000);
                    break;
                    
                case 'initiate':
                    addOutput('INITIATING PROTOCOL OMEGA...');
                    addOutput('WARNING: THIS ACTION IS IRREVERSIBLE');
                    setTimeout(() => {
                        window.location.href = 'protocol_omega.html';
                    }, 2000);
                    break;
                    
                case '734':
                    addOutput('SUBJECT 734: JOHAN VAN KOSS');
                    addOutput('STATUS: CONVERTED_TO_MAYAK');
                    addOutput('LOCATION: MARS_SECTOR_3D');
                    addOutput('FINAL ENTRY: [AUDIO_LOG_CORRUPTED]');
                    break;
                    
                default:
                    addOutput(`command not found: ${cmd}`);
            }
            
            addPrompt();
        }

        // Обработка ввода
        document.addEventListener('keydown', (e) => {
            const currentCmd = document.getElementById('currentCmd');
            const cursor = document.getElementById('cursor');
            
            if (e.key === 'Enter') {
                if (currentLine.trim()) {
                    commandHistory.push(currentLine);
                    historyIndex = commandHistory.length;
                    processCommand(currentLine);
                    currentLine = '';
                    currentCmd.textContent = '';
                }
            } else if (e.key === 'Backspace') {
                currentLine = currentLine.slice(0, -1);
                currentCmd.textContent = currentLine;
            } else if (e.key === 'ArrowUp') {
                if (historyIndex > 0) {
                    historyIndex--;
                    currentLine = commandHistory[historyIndex];
                    currentCmd.textContent = currentLine;
                }
            } else if (e.key === 'ArrowDown') {
                if (historyIndex < commandHistory.length - 1) {
                    historyIndex++;
                    currentLine = commandHistory[historyIndex];
                    currentCmd.textContent = currentLine;
                } else {
                    historyIndex = commandHistory.length;
                    currentLine = '';
                    currentCmd.textContent = '';
                }
            } else if (e.key.length === 1) {
                currentLine += e.key;
                currentCmd.textContent = currentLine;
            }
        });

        // Случайные глитчи
        setInterval(() => {
            if (Math.random() < 0.1) {
                document.body.classList.add('glitch');
                setTimeout(() => document.body.classList.remove('glitch'), 100);
            }
        }, 5000);

        // Запуск
        initTerminal();
    </script>
</body>
</html>
