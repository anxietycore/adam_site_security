(()=>{const t=Math.min(window.devicePixelRatio||1,1.25),e=document.createElement("canvas");e.id="glassFX",Object.assign(e.style,{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",pointerEvents:"none",zIndex:"1"}),document.body.appendChild(e);const a=e.getContext("2d");let o=0,n=0;function d(){o=e.width=window.innerWidth*t,n=e.height=window.innerHeight*t}window.addEventListener("resize",d),d();const i=[],l=Math.floor(.8*o),r=Math.floor(.8*n);for(let t=0;t<15;t++){const t=document.createElement("canvas");t.width=l,t.height=r;const e=t.getContext("2d"),a=e.createImageData(l,r),o=a.data;for(let t=0;t<o.length;t+=4){const e=255*Math.random();o[t]=o[t+1]=o[t+2]=e,o[t+3]=255}e.putImageData(a,0,0),i.push(t)}const c=document.createElement("canvas"),h=c.getContext("2d");c.width=o,c.height=n;for(let e=0;e<o*n*.0013;e++){const e=Math.random()*o,a=Math.random()*n,d=40*Math.random()+20,i=.08*Math.random()+.03;h.beginPath(),h.moveTo(e,a),h.lineTo(e,a+d),h.strokeStyle=`rgba(255,255,255,${i})`,h.lineWidth=.5*t,h.stroke()}let s=0;!function t(){s++,a.clearRect(0,0,o,n);const e=a.createRadialGradient(o/2,n/2,.1*n,o/2,n/2,.8*n);e.addColorStop(0,"rgba(0,0,0,0)"),e.addColorStop(1,"rgba(0,0,0,0.35)"),a.fillStyle=e,a.fillRect(0,0,o,n);const d=s%720;let l=1;l=d<180?1+d/180:d<360?2-(d-180)/180:1;const r=i[Math.floor(s/4)%15];a.globalAlpha=.28*l,a.drawImage(r,0,0,o,n),a.globalAlpha=1;const h=.4*s%n;a.drawImage(c,0,h-n,o,n),a.drawImage(c,0,h,o,n);const g=.4+.05*Math.sin(s/50),m=a.createRadialGradient(o/2,0,.05*n,o/2,0,.6*n);m.addColorStop(0,`rgba(255,255,255,${.04*g})`),m.addColorStop(1,"rgba(255,255,255,0)"),a.fillStyle=m,a.fillRect(0,0,o,n),requestAnimationFrame(t)}()})();
