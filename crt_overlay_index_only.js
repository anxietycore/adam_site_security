(()=>{const e=Math.min(window.devicePixelRatio||1,1.5);let t=0;const n=setInterval((()=>{const r=document.getElementById("indexCanvas");r?(clearInterval(n),function(t){const n=document.createElement("canvas");n.id="crtOverlayIndex",Object.assign(n.style,{position:"fixed",left:"0",top:"0",width:"100vw",height:"100vh",zIndex:"1000",pointerEvents:"none"}),document.body.appendChild(n);const r=n.getContext("webgl",{antialias:!1});if(!r)return;const i="\n      attribute vec2 aPos;\n      attribute vec2 aUV;\n      varying vec2 vUV;\n      void main() {\n        vUV = aUV;\n        gl_Position = vec4(aPos, 0.0, 1.0);\n      }\n    ",a="\n      precision mediump float;\n      varying vec2 vUV;\n      uniform sampler2D uTex;\n      uniform float uDist;\n      void main() {\n        vec2 uv = vUV * 2.0 - 1.0;\n        float r = length(uv);\n        vec2 distorted = mix(uv, uv * r, uDist);\n        vec2 finalUV = (distorted + 1.0) * 0.5;\n        finalUV.y = 1.0 - finalUV.y;\n        gl_FragColor = texture2D(uTex, clamp(finalUV, 0.0, 1.0));\n      }\n    ";function o(e,t){const n=r.createShader(t);return r.shaderSource(n,e),r.compileShader(n),n}const c=r.createProgram();r.attachShader(c,o(i,r.VERTEX_SHADER)),r.attachShader(c,o(a,r.FRAGMENT_SHADER)),r.linkProgram(c),r.useProgram(c);const E=new Float32Array([-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1]),T=r.createBuffer();r.bindBuffer(r.ARRAY_BUFFER,T),r.bufferData(r.ARRAY_BUFFER,E,r.STATIC_DRAW);const d=r.getAttribLocation(c,"aPos"),s=r.getAttribLocation(c,"aUV");r.enableVertexAttribArray(d),r.enableVertexAttribArray(s),r.vertexAttribPointer(d,2,r.FLOAT,!1,16,0),r.vertexAttribPointer(s,2,r.FLOAT,!1,16,8),r.uniform1f(r.getUniformLocation(c,"uDist"),.32);const l=r.createTexture();function R(){n.width=Math.floor(window.innerWidth*e),n.height=Math.floor(window.innerHeight*e),r.viewport(0,0,n.width,n.height)}function u(){r.bindTexture(r.TEXTURE_2D,l),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,t),r.clear(r.COLOR_BUFFER_BIT),r.drawArrays(r.TRIANGLE_STRIP,0,4),requestAnimationFrame(u)}r.bindTexture(r.TEXTURE_2D,l),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),window.addEventListener("resize",R),R(),u()}(r)):++t>50&&clearInterval(n)}),100)})();
